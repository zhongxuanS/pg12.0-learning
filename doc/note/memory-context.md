### 内存管理常见问题
+ 内存泄漏
+ 野指针
+ 碎片内存太多
+ 多次向操作系统申请内存，开销太大

一般项目中如果内存申请多而且频繁的话都会使用内存池。在C++项目中有RAII和智能指针，把这两样用好的话，基本可以避免内存问题。但是在C项目中就没有这个些
好东西可以用了，只能自己撸一套。

### PG中如何解决
在PG中采用了内存上下文的机制来解决上面的问题。
+ 内存泄漏
  用内存上下文来管理一种场景下所申请的内存。当场景处理结束后手动释放。这样就不用自己去跟踪每个小内存的情况。每次需要内存的话就从对应内存上下文中申请，
  当用完后直接释放内存上下文就行。
  
+ 野指针
  这个没有好办法。
  
+ 碎片内存太多
  PG中使用了freelist来管理不用的内存。也就是说当用户主动释放内存的时候会把内存保存到freelist。用户申请内存的时候优先从freelist中找空闲内存。

+ 多次向操作系统申请内存，开销太大
  PG中会先申请一片内存，每次代码中申请内存的时候会直接从这个内存中划一片过去。省去了每次调用系统函数申请内存的过程。

### 精简版PG内存上下文
