PG中语法部分用的是flex和bison来解决的。flex负责词法分析，bison负责语法分析。

最近一直在用这2个库，尝试做一些总结，把工程上怎么玩这2个库分析一下。

### flex
flex负责词法分析。什么是词法分析？通俗点就是按照要求把字符串流中的字符取出来。或者说负责断句。

### bison
bison负责按照语法定义将字符串构建成语法树。比如说我想把字符串中所有function关键字高亮。可能最简单的做法
就是用正则表达式。但是如果function作为变量名的话，这个在SQL是允许的，function可以作为一个cte的名字。
这种场景就没有办法了。相同字符串在不同位置会有不同含义，想正确区分只能通过语法树来区分。而通过bison就可以达到
这个目的。

### PG中flex和bison的玩法
PG中有这样几个场景需要解决（以我目前对代码的了解）
1. lalr(1)是bison使用的算法，但是只能向前看一个token，有时候一个token不够，需要看多个。在不改bison
算法的前提下，怎么解决。
2. SQL都是用分号作为结束符，但是有时候我想输入一些SQL字符串，这些字符串中包含分号，我们需要让flex不能返回
分号。也就是escape字符串问题。
3. 怎么把结果传出来，因为bison的yyparse函数只返回语法解析成功与否，我们其实更想要AST树。